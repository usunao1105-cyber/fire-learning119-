<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å—æµ·ãƒˆãƒ©ãƒ•åœ°éœ‡ãƒ»æ´¥æ³¢é˜²ç½ e-Learning</title>
    <!-- ãƒ•ã‚©ãƒ³ãƒˆ: Noto Sans JP ã‚’ä½¿ç”¨ã—ã¦å¯èª­æ€§ã¨é«˜ç´šæ„Ÿã‚’ç¢ºä¿ -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ: ä¿¡é ¼ã¨æ ¼å¼ã®ãƒã‚¤ãƒ“ãƒ¼ï¼†ã‚´ãƒ¼ãƒ«ãƒ‰ */
            --primary-color: #1a237e; /* æ¿ƒç´º */
            --primary-light: #534bae;
            --primary-dark: #000051;
            --secondary-color: #c5a059; /* ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³ã‚´ãƒ¼ãƒ«ãƒ‰ */
            --accent-color: #d32f2f; /* è­¦å‘Šãƒ»ä¸æ­£è§£ç”¨ã®èµ¤ */
            --success-color: #2e7d32; /* æ­£è§£ç”¨ã®ç·‘ */
            --bg-color: #f5f5f7; /* è–„ã„ã‚°ãƒ¬ãƒ¼ã®èƒŒæ™¯ */
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-light: #666666;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            box-sizing: border-box;
        }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
            border-top: 6px solid var(--primary-color);
            position: relative;
            overflow: hidden;
        }

        h1 {
            color: var(--primary-color);
            font-size: 24px;
            margin-bottom: 10px;
            letter-spacing: 0.05em;
            line-height: 1.4;
        }

        h2 {
            font-size: 16px;
            color: var(--text-light);
            margin-bottom: 30px;
            font-weight: 500;
        }

        .badge {
            display: inline-block;
            background-color: var(--primary-color);
            color: #fff;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 20px;
            letter-spacing: 0.1em;
            font-weight: 500;
        }

        /* ãƒœã‚¿ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .btn {
            background-color: var(--primary-color);
            color: #fff;
            border: none;
            padding: 16px 40px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(26, 35, 126, 0.3);
            letter-spacing: 0.05em;
        }

        .btn:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(26, 35, 126, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* å•é¡Œç”»é¢ */
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--secondary-color);
            font-weight: bold;
        }

        .question-text {
            font-size: 20px;
            font-weight: 700;
            line-height: 1.6;
            margin-bottom: 30px;
            text-align: left;
            color: var(--primary-dark);
        }

        .options-grid {
            display: grid;
            gap: 15px;
            text-align: left;
        }

        .option-btn {
            background-color: #fff;
            border: 2px solid #e0e0e0;
            padding: 18px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            position: relative;
            color: var(--text-main);
            font-family: inherit;
            line-height: 1.5;
        }

        .option-btn:hover {
            border-color: var(--primary-color);
            background-color: #f0f4ff;
        }

        /* æ­£è§£ãƒ»ä¸æ­£è§£ã®çŠ¶æ…‹ */
        .option-btn.correct {
            border-color: var(--success-color);
            background-color: #e8f5e9;
            color: var(--success-color);
            font-weight: bold;
        }
        
        .option-btn.correct::after {
            content: 'âœ“';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
        }

        .option-btn.incorrect {
            border-color: var(--accent-color);
            background-color: #ffebee;
            color: var(--accent-color);
            opacity: 0.8;
        }
        
        .option-btn.incorrect::after {
            content: 'âœ•';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* è§£èª¬ã‚¨ãƒªã‚¢ */
        .feedback-area {
            margin-top: 25px;
            padding: 25px;
            background-color: #f8f9fa;
            border-left: 5px solid var(--secondary-color);
            text-align: left;
            display: none; /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
            animation: fadeIn 0.5s ease;
            border-radius: 0 8px 8px 0;
        }

        .feedback-title {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: block;
        }

        .feedback-text {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-main);
        }

        .next-btn-container {
            text-align: right;
            margin-top: 20px;
        }

        /* TOPã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ï¼ˆçµ¶å¯¾é…ç½®ï¼‰ */
        .home-btn-absolute {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 13px;
            color: var(--text-light);
            background: none;
            border: 1px solid transparent;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 20px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: inherit;
        }

        .home-btn-absolute:hover {
            color: var(--primary-color);
            background-color: #f0f4ff;
            border-color: #e0e0e0;
        }

        /* ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒœã‚¿ãƒ³ï¼ˆæ ç·šã®ã¿ï¼‰ */
        .btn-secondary {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            margin-top: 15px;
            box-shadow: none;
        }

        .btn-secondary:hover {
            background-color: #f0f4ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(26, 35, 126, 0.1);
        }

        /* çµæœç”»é¢ */
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 8px solid var(--secondary-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 30px;
        }

        .score-display {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary-color);
            line-height: 1;
        }
        
        .score-label {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 5px;
        }

        .result-message {
            font-size: 18px;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* é€²è¡ŒçŠ¶æ³ãƒãƒ¼ */
        .progress-container {
            width: 100%;
            height: 4px;
            background-color: #e0e0e0;
            position: absolute;
            top: 0;
            left: 0;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ */
        .hidden {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ã‚¹ãƒãƒ›å¯¾å¿œ */
        @media (max-width: 600px) {
            .card {
                padding: 25px 20px;
            }
            .question-text {
                font-size: 18px;
            }
            h1 {
                font-size: 20px;
            }
            .btn {
                width: 100%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    
    <!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
    <div id="start-screen" class="card">
        <div class="badge">ç¤¾å†…ç ”ä¿®ç”¨æ•™æ</div>
        <h1>å—æµ·ãƒˆãƒ©ãƒ•åœ°éœ‡ãƒ»æ´¥æ³¢é˜²ç½<br>å³æ™‚äºˆæ¸¬æŠ€è¡“ ç‰¹åˆ¥ç ”ä¿®</h1>
        <h2>å…¨å•ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰<br>ãƒ©ãƒ³ãƒ€ãƒ ã«5å•å‡ºé¡Œã•ã‚Œã¾ã™ã€‚</h2>
        <div style="margin-bottom: 40px; text-align: left; background: #f8f9fa; padding: 20px; border-radius: 8px; font-size: 14px;">
            <p style="margin: 0 0 10px 0;"><strong>å¯¾è±¡ï¼š</strong> ç®¡ç†è·ãƒ»é˜²ç½æ‹…å½“è·å“¡</p>
            <p style="margin: 0;"><strong>å†…å®¹ï¼š</strong> æ´¥æ³¢è­¦å ±åŸºæº–ã€é¿é›£è¡Œå‹•ã€DONETã‚·ã‚¹ãƒ†ãƒ ç­‰ï¼ˆå•51ï½80ã‚ˆã‚ŠæŠ½å‡ºï¼‰</p>
        </div>
        <button class="btn" onclick="startQuiz()">ç ”ä¿®ã‚’é–‹å§‹ã™ã‚‹</button>
    </div>

    <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
    <div id="quiz-screen" class="card hidden">
        <button class="home-btn-absolute" onclick="goHome()">
            <span style="font-size: 16px;">ğŸ </span> TOPã¸
        </button>

        <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
        
        <div class="question-header">
            <span id="question-number">Question 1/5</span>
            <span>é˜²ç½çŸ¥è­˜ç¢ºèª</span>
        </div>
        
        <div id="question-text" class="question-text">
            ã“ã“ã«å•é¡Œæ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
        </div>

        <div id="options-container" class="options-grid">
            <!-- é¸æŠè‚¢ãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>

        <!-- è§£èª¬ã‚¨ãƒªã‚¢ -->
        <div id="feedback-area" class="feedback-area">
            <span id="feedback-title" class="feedback-title"></span>
            <div id="feedback-text" class="feedback-text"></div>
            <div class="next-btn-container">
                <button id="next-btn" class="btn" style="padding: 12px 30px; font-size: 14px;" onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
            </div>
        </div>
    </div>

    <!-- çµæœç”»é¢ -->
    <div id="result-screen" class="card hidden">
        <div class="badge">ç ”ä¿®çµ‚äº†</div>
        <h1>çµæœç™ºè¡¨</h1>
        
        <div class="score-circle">
            <div class="score-display">
                <span id="score">0</span>
            </div>
            <div class="score-label">POINTS</div>
        </div>

        <p id="result-message" class="result-message">ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚</p>
        <p style="color: #666; font-size: 14px; margin-bottom: 30px;">
            ç¹°ã‚Šè¿”ã—å­¦ç¿’ã™ã‚‹ã“ã¨ã§ã€<br>çŸ¥è­˜ã¯ã‚ˆã‚Šç¢ºå®Ÿãªã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚
        </p>
        
        <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
            <button class="btn" onclick="restartQuiz()">å†æŒ‘æˆ¦ã™ã‚‹ï¼ˆåˆ¥ã®å•é¡Œï¼‰</button>
            <button class="btn btn-secondary" onclick="goHome()">ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã¸æˆ»ã‚‹</button>
        </div>
    </div>

</div>

<script>
    /**
     * å•é¡Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
     * æä¾›ã•ã‚ŒãŸæƒ…å ±ã«åŸºã¥ãã€eãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°æ•™æç”¨ã®å•é¡Œã‚’æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚
     */
    const questionDatabase = [
        {
            question: "æ°—è±¡åºãŒæ´¥æ³¢è­¦å ±ã¾ãŸã¯æ´¥æ³¢æ³¨æ„å ±ã‚’ç™ºè¡¨ã™ã‚‹ç›®æ¨™æ™‚é–“ã¯ã€åœ°éœ‡ç™ºç”Ÿå¾Œæœ€çŸ­ã§ã©ã®ç¨‹åº¦ã§ã™ã‹ï¼Ÿ",
            options: [
                "ç´„5åˆ†ä»¥å†…",
                "ç´„10åˆ†ä»¥å†…",
                "ç´„3åˆ†ä»¥å†…ï¼ˆä¸€éƒ¨ã®åœ°éœ‡ã«ã¤ã„ã¦ã¯æœ€é€Ÿ2åˆ†ä»¥å†…ï¼‰",
                "ç´„15åˆ†ä»¥å†…"
            ],
            correctIndex: 2,
            explanation: "æ°—è±¡åºã¯ã€æ´¥æ³¢ã«ã‚ˆã‚‹ç½å®³ãŒäºˆæƒ³ã•ã‚Œã‚‹å ´åˆã€åœ°éœ‡ãŒç™ºç”Ÿã—ã¦ã‹ã‚‰ã€Œ3åˆ†ä»¥å†…ã€ï¼ˆä¸€éƒ¨ã®åœ°éœ‡ã«ã¤ã„ã¦ã¯æœ€é€Ÿã€Œ2åˆ†ä»¥å†…ã€ï¼‰ã‚’ç›®æ¨™ã«æ´¥æ³¢è­¦å ±ã¾ãŸã¯æ´¥æ³¢æ³¨æ„å ±ã‚’ç™ºè¡¨ã—ã¾ã™ã€‚"
        },
        {
            question: "æ°—è±¡åºãŒç™ºè¡¨ã™ã‚‹å¤§æ´¥æ³¢è­¦å ±ã®ã†ã¡ã€ã€Œ10mè¶…ã€ã®åŒºåˆ†ã«å¯¾å¿œã™ã‚‹ã€äºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®é«˜ã•ã®æ•°å€¤åŸºæº–ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "äºˆæƒ³ã•ã‚Œã‚‹æœ€å¤§æ³¢ã®é«˜ã•ãŒ1mã‚’è¶…ãˆã€3mä»¥ä¸‹",
                "äºˆæƒ³ã•ã‚Œã‚‹æœ€å¤§æ³¢ã®é«˜ã•ãŒ3mã‚’è¶…ãˆã€5mä»¥ä¸‹",
                "äºˆæƒ³ã•ã‚Œã‚‹æœ€å¤§æ³¢ã®é«˜ã•ãŒ5mã‚’è¶…ãˆã€10mä»¥ä¸‹",
                "äºˆæƒ³ã•ã‚Œã‚‹æœ€å¤§æ³¢ã®é«˜ã•ãŒ10mã‚’è¶…ãˆã‚‹"
            ],
            correctIndex: 3,
            explanation: "å¤§æ´¥æ³¢è­¦å ±ã®ã€Œ10mè¶…ã€ã®äºˆæƒ³é«˜ã•åŒºåˆ†ã¯ã€ã€Œ10ï½ï¼œäºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®æœ€å¤§æ³¢ã®é«˜ã•ã€ã®å ´åˆã«ç™ºè¡¨ã•ã‚Œã¾ã™ã€‚"
        },
        {
            question: "æ´¥æ³¢æ³¨æ„å ±ãŒç™ºè¡¨ã•ã‚Œã‚‹ã€äºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®é«˜ã•ã®æ•°å€¤åŸºæº–ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "0.2mæœªæº€",
                "0.2mä»¥ä¸Šã€1mä»¥ä¸‹",
                "1mã‚’è¶…ãˆã€3mä»¥ä¸‹",
                "3mã‚’è¶…ãˆã‚‹"
            ],
            correctIndex: 1,
            explanation: "æ´¥æ³¢æ³¨æ„å ±ã¯ã€äºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®æœ€å¤§æ³¢ã®é«˜ã•ãŒé«˜ã„ã¨ã“ã‚ã§ã€Œ0.2ï½ä»¥ä¸Šã€1ï½ä»¥ä¸‹ã®å ´åˆã€ã§ã‚ã£ã¦ã€æ´¥æ³¢ã«ã‚ˆã‚‹ç½å®³ã®ãŠãã‚ŒãŒã‚ã‚‹å ´åˆã«ç™ºè¡¨ã•ã‚Œã¾ã™ã€‚"
        },
        {
            question: "åœ°éœ‡ã®è¦æ¨¡ãŒãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰8ã‚’è¶…ãˆã‚‹ã‚ˆã†ãªå·¨å¤§åœ°éœ‡ãŒç™ºç”Ÿã—ã€ç²¾åº¦ã®è‰¯ã„åœ°éœ‡è¦æ¨¡ã‚’ã™ãã«æ±‚ã‚ã‚‹ã“ã¨ãŒã§ããªã„å ´åˆã€æœ€åˆã«ç™ºè¡¨ã•ã‚Œã‚‹å¤§æ´¥æ³¢è­¦å ±ã®äºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®é«˜ã•ã¯ã€ã©ã®ã‚ˆã†ãªå®šæ€§çš„è¡¨ç¾ã§ä¼ãˆã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ",
            options: [
                "éå¸¸",
                "å±é™º",
                "å·¨å¤§",
                "æœ€é«˜"
            ],
            correctIndex: 2,
            explanation: "ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰8ã‚’è¶…ãˆã‚‹å·¨å¤§åœ°éœ‡ã®å ´åˆã€æœ€åˆã«ç™ºè¡¨ã•ã‚Œã‚‹å¤§æ´¥æ³¢è­¦å ±ã§ã¯ã€äºˆæƒ³ã•ã‚Œã‚‹æ´¥æ³¢ã®é«˜ã•ã‚’ã€Œå·¨å¤§ã€ã¨ã„ã†è¨€è‘‰ã§ç™ºè¡¨ã—ã€éå¸¸äº‹æ…‹ã§ã‚ã‚‹ã“ã¨ã‚’ä¼ãˆã¾ã™ã€‚"
        },
        {
            question: "å¤§æ´¥æ³¢è­¦å ±ï¼ˆ10mè¶…ãªã©ï¼‰ãŒç™ºè¡¨ã•ã‚ŒãŸå ´åˆã«ã€æ²¿å²¸éƒ¨ã‚„å·æ²¿ã„ã«ã„ã‚‹äººãŒå–ã‚‹ã¹ãè¡Œå‹•ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ã«æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "æµ·ã«å…¥ã£ã¦ã®ä½œæ¥­ã‚„é‡£ã‚Šã‚’ã‚„ã‚ã‚‹ã“ã¨",
                "æµ·ã‹ã‚‰ä¸ŠãŒã£ã¦æµ·å²¸ã‹ã‚‰é›¢ã‚Œã‚‹ã“ã¨",
                "ãŸã ã¡ã«é«˜å°ã‚„é¿é›£ãƒ“ãƒ«ãªã©å®‰å…¨ãªå ´æ‰€ã¸é¿é›£ã™ã‚‹ã“ã¨",
                "è‡ªå®…ã§æœ€æ–°æƒ…å ±ã‚’ç¢ºèªã™ã‚‹ã“ã¨"
            ],
            correctIndex: 2,
            explanation: "å¤§æ´¥æ³¢è­¦å ±ç™ºè¡¨æ™‚ã«ã¯ã€ã€ŒãŸã ã¡ã«é«˜å°ã‚„é¿é›£ãƒ“ãƒ«ãªã©å®‰å…¨ãªå ´æ‰€ã¸é¿é›£ã€ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚"
        },
        {
            question: "æ´¥æ³¢è­¦å ±ãƒ»æ³¨æ„å ±ã‚’ç™ºè¡¨ã—ãŸå ´åˆã«ã€æ°—è±¡åºãŒç™ºè¡¨ã™ã‚‹æƒ…å ±ã«å«ã¾ã‚Œã‚‹ã€Œæ´¥æ³¢åˆ°é”äºˆæƒ³æ™‚åˆ»ã€ã¯ã€ãã®æ´¥æ³¢äºˆå ±åŒºã«ãŠã„ã¦ä½•ã‚’æŒ‡ã—ã¾ã™ã‹ï¼Ÿ",
            options: [
                "æ´¥æ³¢ãŒæœ€ã‚‚é«˜ããªã‚‹æ™‚åˆ»",
                "äºˆå ±åŒºã®æœ€ã‚‚é…ã„åœ°ç‚¹ã«æ´¥æ³¢ãŒåˆ°é”ã™ã‚‹æ™‚åˆ»",
                "äºˆå ±åŒºã§æœ€ã‚‚æ—©ãæ´¥æ³¢ã®ç¬¬ä¸€æ³¢ãŒåˆ°é”ã™ã‚‹æ™‚åˆ»",
                "æº€æ½®æ™‚åˆ»ã¨æ´¥æ³¢åˆ°é”ãŒé‡ãªã‚‹æ™‚åˆ»"
            ],
            correctIndex: 2,
            explanation: "æ´¥æ³¢æƒ…å ±ã§ç™ºè¡¨ã•ã‚Œã‚‹åˆ°é”äºˆæƒ³æ™‚åˆ»ã¯ã€å„æ´¥æ³¢äºˆå ±åŒºã§ã€Œã‚‚ã£ã¨ã‚‚æ—©ãæ´¥æ³¢ãŒåˆ°é”ã™ã‚‹æ™‚åˆ»ã€ã§ã™ã€‚å ´æ‰€ã«ã‚ˆã£ã¦ã¯ã“ã®æ™‚åˆ»ã‚ˆã‚Šã‚‚1æ™‚é–“ä»¥ä¸Šé…ã‚Œã¦æ´¥æ³¢ãŒè¥²ã£ã¦ãã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚"
        },
        {
            question: "æ´¥æ³¢è­¦å ±ãƒ»æ³¨æ„å ±ãŒç™ºè¡¨ã•ã‚ŒãŸå¾Œã€é¿é›£ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã‚ã‚‹ç†ç”±ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "æ´¥æ³¢ã¯ç¬¬ä¸€æ³¢ãŒæœ€å¤§æ³¢ã«ãªã‚‹ã¨ã¯é™ã‚‰ãšã€é•·ã„æ™‚é–“ãã‚Šè¿”ã—è¥²ã£ã¦ãã‚‹ãŸã‚",
                "æ´¥æ³¢è­¦å ±ã¯é »ç¹ã«èª¤å ±ãŒå‡ºã‚‹ãŸã‚",
                "æ´¥æ³¢ã¯å¿…ãšæ½®ä½ãŒä¸‹ãŒã‚‹ç¾è±¡ã§ã‚ã‚‹ãŸã‚",
                "è­¦å ±ãŒè§£é™¤ã•ã‚Œã‚‹ã¨äº¤é€šæ©Ÿé–¢ãŒã™ãã«å¾©æ—§ã™ã‚‹ãŸã‚"
            ],
            correctIndex: 0,
            explanation: "æ´¥æ³¢ã¯ã€Œé•·ã„æ™‚é–“ãã‚Šè¿”ã—è¥²ã£ã¦ãã¾ã™ã€ã€‚ã¾ãŸã€æ´¥æ³¢ãŒæœ€ã‚‚é«˜ããªã‚‹ã¾ã§ã€Œæ•°æ™‚é–“ä»¥ä¸Šã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€ã€‚ãã®ãŸã‚ã€æ´¥æ³¢è­¦å ±ãƒ»æ³¨æ„å ±ãŒè§£é™¤ã•ã‚Œã‚‹ã¾ã§ã¯ã€é¿é›£ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ãŒè‚è¦ã§ã™ã€‚"
        },
        {
            question: "æ°—è±¡æ¥­å‹™æ³•ã«åŸºã¥ãæ´¥æ³¢è­¦å ±ç­‰ã®æ³•å®šä¼é”ãƒ«ãƒ¼ãƒˆã«ãŠã„ã¦ã€æ°—è±¡åºã‹ã‚‰ç›´æ¥æƒ…å ±ã‚’å—ã‘å–ã‚‹æ©Ÿé–¢ã¨ã—ã¦å®šã‚ã‚‰ã‚Œã¦ã„ã‚‹ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "æ¶ˆé˜²åºã€æµ·ä¸Šä¿å®‰åºã®æ©Ÿé–¢ã€NHKæ”¾é€å±€ã€NTTæ±æ—¥æœ¬åŠã³NTTè¥¿æ—¥æœ¬",
                "å¸‚ç”ºæ‘é•·",
                "ä½æ°‘ç­‰",
                "çµŒæ¸ˆç”£æ¥­çœ"
            ],
            correctIndex: 0,
            explanation: "æ°—è±¡æ¥­å‹™æ³•ã«åŸºã¥ãæ´¥æ³¢è­¦å ±ç­‰ã®æ³•å®šä¼é”ãƒ«ãƒ¼ãƒˆã¯ã€æ°—è±¡åºã‹ã‚‰ã€ŒNTTæ±æ—¥æœ¬åŠã³NTTè¥¿æ—¥æœ¬ã€ã€æµ·ä¸Šä¿å®‰åºã®æ©Ÿé–¢ã€ãŠã‚ˆã³ã€ŒNHKæ”¾é€å±€ã€ãªã©ã¸ä¼é”ã•ã‚Œã¾ã™ã€‚"
        },
        {
            question: "æ²¿å²¸è¿‘ãã§å¤§ããªåœ°éœ‡ãŒç™ºç”Ÿã—ãŸå ´åˆã€æ´¥æ³¢è­¦å ±ãŒæ´¥æ³¢ã®è¥²æ¥ã«é–“ã«åˆã‚ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã®éš›ã€ä½æ°‘ãŒå–ã‚‹ã¹ãè¡Œå‹•ã¨ã—ã¦æœ€ã‚‚é‡è¦ãªã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
            options: [
                "5åˆ†ã»ã©å¾…ã£ã¦æ°—è±¡åºã®æ´¥æ³¢ã®æœ‰ç„¡ã®ç™ºè¡¨ã‚’å¾…ã¤",
                "å¼·ã„æºã‚Œã‚’æ„Ÿã˜ã¦ã‚‚ã€æ´¥æ³¢ã®å¿ƒé…ãŒãªã„ã“ã¨ãŒç¢ºå®Ÿã«ãªã‚‹ã¾ã§é¿é›£ã‚’é–‹å§‹ã—ãªã„",
                "æµ·å²¸ä»˜è¿‘ã§å¼·ã„æºã‚Œã‚’æ„Ÿã˜ãŸã‚‰ã€è‡ªã‚‰åˆ¤æ–­ã—ã¦ã™ãã«å®‰å…¨ãªæ‰€ã¸é¿é›£ã™ã‚‹",
                "é æ–¹ã‹ã‚‰ã®æ´¥æ³¢ã«å‚™ãˆã€æµ·å²¸ã«è¿‘ã¥ã"
            ],
            correctIndex: 2,
            explanation: "æ´¥æ³¢è­¦å ±ã¯åœ°éœ‡ãŒç™ºç”Ÿã—ã¦ã‹ã‚‰ç™ºè¡¨ã¾ã§3åˆ†ç¨‹åº¦ã‹ã‹ã‚‹ãŸã‚ã€æ²¿å²¸è¿‘ãã§å¤§ããªåœ°éœ‡ãŒç™ºç”Ÿã—ãŸå ´åˆã€ã€Œè­¦å ±ãŒé–“ã«åˆã‚ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€ã€‚æµ·å²¸ä»˜è¿‘ã§å¼·ã„æºã‚Œã‚’æ„Ÿã˜ãŸã‚‰ã€ã€Œè‡ªã‚‰åˆ¤æ–­ã—ã¦ã™ãã«å®‰å…¨ãªæ‰€ã¸é¿é›£ã€ã—ã¦ãã ã•ã„ã€‚"
        },
        {
            question: "æ´¥æ³¢åˆ°é”äºˆæƒ³æ™‚åˆ»ã«ã¤ã„ã¦ã€æ´¥æ³¢äºˆå ±åŒºã®ç¬¬ä¸€æ³¢åˆ°é”äºˆæƒ³æ™‚åˆ»ã¾ã§ã«æ™‚é–“çš„ãªçŒ¶äºˆãŒç„¡ã„å ´åˆã€æ°—è±¡åºã¯ã©ã®ã‚ˆã†ã«è¨˜è¼‰ã—ã¦ç™ºè¡¨ã—ã¾ã™ã‹ï¼Ÿ",
            options: [
                "æ¬ æ¸¬",
                "ä¸Šæ˜‡ä¸­",
                "ãŸã ã¡ã«æ´¥æ³¢æ¥è¥²ã¨äºˆæ¸¬",
                "ç¬¬ï¼‘æ³¢è­˜åˆ¥ä¸èƒ½"
            ],
            correctIndex: 2,
            explanation: "æ´¥æ³¢åˆ°é”äºˆæƒ³æ™‚åˆ»ã«ã¤ã„ã¦ã€ç¬¬1æ³¢ã®åˆ°é”äºˆæƒ³æ™‚åˆ»ã¾ã§ã«æ™‚é–“çš„ãªçŒ¶äºˆãŒç„¡ã„å ´åˆã¯ã€ã€ŒãŸã ã¡ã«æ´¥æ³¢æ¥è¥²ã¨äºˆæ¸¬ã€ã¨è¨˜è¼‰ã—ã¦ç™ºè¡¨ã—ã¾ã™ã€‚"
        },
        {
            question: "æ°—è±¡åºãŒå…¨å›½ã‚’66åŒºåŸŸã«ç´°åˆ†åŒ–ã—ã¦æ´¥æ³¢äºˆå ±åŒºã‚’è¨­å®šã™ã‚‹éš›ã«ã€ä¸»ã«è€ƒæ…®ã«å…¥ã‚Œã¦ã„ã‚‹åœ°å½¢å­¦çš„è¦ç´ ã¯ä½•ã§ã™ã‹ï¼Ÿ",
            options: [
                "éƒ½é“åºœçœŒã®è¡Œæ”¿åŒºç”»",
                "æ´¥æ³¢ã®ä¼æ’­çµŒè·¯ã€æ²¿å²¸åœ°å½¢ã«ã‚ˆã‚‹å¢—å¹…ãƒ»æ¸›è¡°ç‰¹æ€§ã€ãŠã‚ˆã³å…±æŒ¯ç‰¹æ€§",
                "æ¸¯æ¹¾ã®è¦æ¨¡ã¨æ¼ç²é‡",
                "äººå£å¯†åº¦ã¨å»ºç¯‰ç‰©ã®æ•°"
            ],
            correctIndex: 1,
            explanation: "æ´¥æ³¢äºˆå ±åŒºã®å¢ƒç•Œè¨­å®šã¯ã€æ´¥æ³¢ã®ä¼æ’­ã‚„å¢—å¹…ãƒ»æ¸›è¡°åŠ¹æœã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ã€ã€Œæ´¥æ³¢ã®ä¼æ’­çµŒè·¯ã€æ²¿å²¸åœ°å½¢ã«ã‚ˆã‚‹å¢—å¹…ãƒ»æ¸›è¡°ç‰¹æ€§ã€ãŠã‚ˆã³å…±æŒ¯ç‰¹æ€§ã€ãªã©ã®åœ°å½¢å­¦çš„è¦ç´ ã‚’è€ƒæ…®ã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚"
        },
        {
            question: "æ´¥æ³¢æ³¨æ„å ±ã®åŸºæº–å€¤ãŒ0.2mã¨ã„ã†å°ã•ãªæ³¢é«˜ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹é‹ç”¨ä¸Šã®ä¸»ãªæ„ç¾©ã¯ä½•ã§ã™ã‹ï¼Ÿ",
            options: [
                "æµ¸æ°´è¢«å®³ã‚’é˜²ããŸã‚",
                "æ´¥æ³¢ã®æ³¢é•·ãŒé•·ã„ãŸã‚ã€é™¸ä¸Šã®å»ºç‰©ã®æå£Šã‚’é˜²ããŸã‚",
                "0.2mã§ã‚ã£ã¦ã‚‚æ²¿å²¸åŸŸã‚„æ¸¯æ¹¾å†…ã§å¼·ã„æµé€Ÿã‚’ä¼´ã„ã€æµ·åŸŸåˆ©ç”¨è€…ã®æ°´é›£äº‹æ•…ã«ç›´çµã™ã‚‹å±é™ºæ€§ã‚’å›é¿ã™ã‚‹ãŸã‚",
                "æ´¥æ³¢ã®ç¬¬ä¸€æ³¢ã‚’å¿…ãšè¦³æ¸¬ã™ã‚‹ãŸã‚"
            ],
            correctIndex: 2,
            explanation: "0.2mã¨ã„ã†åŸºæº–ã¯ã€é€šå¸¸ã®æ³¢æµªã¨ç•°ãªã‚Šæ´¥æ³¢ã¯å¼·ã„æµé€Ÿã‚’ä¼´ã†ãŸã‚ã€å°å‹èˆ¹èˆ¶ã®è»¢è¦†ã‚„ã€æµ·å²¸ä»˜è¿‘ã§ã®äººã®æ°´é›£äº‹æ•…ã«ç›´çµã™ã‚‹å±é™ºæ€§ã‚’å›é¿ã™ã‚‹ãŸã‚ã®æœ€å°é–¾å€¤ã¨ã—ã¦æ©Ÿèƒ½ã—ã¦ã„ã¾ã™ã€‚"
        },
        {
            question: "ç†Šé‡ç˜ãªã©ã«è¨­ç½®ã•ã‚Œã¦ã„ã‚‹åœ°éœ‡ãƒ»æ´¥æ³¢è¦³æ¸¬ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆDONETï¼‰ãŒã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ´¥æ³¢å³æ™‚äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ã«å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æä¾›ã™ã‚‹ä¸»è¦ãªè¦³æ¸¬æ©Ÿå™¨ã¯ä½•ã§ã™ã‹ï¼Ÿ",
            options: [
                "ãƒ¬ãƒ¼ã‚¶ãƒ¼è·é›¢è¨ˆ",
                "æµ·åº•æ°´åœ§è¨ˆï¼ˆ1chï¼‰ã€å¼·éœ‡è¨ˆï¼ˆ3chï¼‰ã€åºƒå¸¯åŸŸåœ°éœ‡è¨ˆï¼ˆ3chï¼‰",
                "GPSè¡›æ˜Ÿã®ã¿",
                "æ½®ä½ãƒ–ã‚¤ã®ã¿"
            ],
            correctIndex: 1,
            explanation: "DONETè¦³æ¸¬ç¶²ã«ã‚ˆã£ã¦è¦³æ¸¬ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®ã†ã¡ã€æ´¥æ³¢å³æ™‚äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ã«é…ä¿¡ã•ã‚Œã‚‹ã®ã¯ã€ã€Œå¼·éœ‡è¨ˆï¼ˆLow gain 3chï¼‰ã€åºƒå¸¯åŸŸåœ°éœ‡è¨ˆï¼ˆ3chï¼‰ãŠã‚ˆã³æ°´åœ§è¨ˆï¼ˆ1chï¼‰ã€ã§ã™ã€‚"
        },
        {
            question: "DONETã‚’ç”¨ã„ãŸæ´¥æ³¢äºˆæ¸¬æ‰‹æ³•ã®é«˜åº¦åŒ–ã«ãŠã„ã¦å°å…¥ã•ã‚ŒãŸã€Œè¦³æ¸¬ç‚¹ã®å‹•çš„é¸æŠã€ã¯ã€ä¸»ã«ã©ã®ã‚ˆã†ãªç›®çš„ã§è¡Œã‚ã‚Œã¾ã™ã‹ï¼Ÿ",
            options: [
                "éœ‡æºã‹ã‚‰é ã–ã‹ã‚‹æ´¥æ³¢ã«ã‚ˆã‚‹è¦³æ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’è¨ˆç®—ã‹ã‚‰é™¤å¤–ã™ã‚‹ãŸã‚",
                "å…¨ã¦ã®è¦³æ¸¬ç‚¹ã‚’å¸¸ã«è¨ˆç®—ã«å«ã‚ã‚‹ãŸã‚",
                "äºˆæ¸¬ã«ä½¿ç”¨ã™ã‚‹è¦³æ¸¬ç‚¹ã®ç·æ•°ã‚’å¢—ã‚„ã™ãŸã‚",
                "äºˆæ¸¬åœ°ç‚¹ã‹ã‚‰ã®ç©ºé–“çš„ãªè·é›¢ã®ã¿ã«åŸºã¥ã„ã¦è¦³æ¸¬ç‚¹ã‚’é¸ã¶ãŸã‚"
            ],
            correctIndex: 0,
            explanation: "è¦³æ¸¬ç‚¹ã®å‹•çš„é¸æŠã§ã¯ã€æ´¥æ³¢äºˆæƒ³åœ°ç‚¹ã«è¿‘ã¥ãæ´¥æ³¢ã®ã¿ã‚’åˆ©ç”¨ã—ã¦äºˆæ¸¬ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚æ´¥æ³¢äºˆæƒ³åœ°ç‚¹ã‹ã‚‰é ã–ã‹ã‚‹æ´¥æ³¢ã«ã‚ˆã£ã¦ãƒˆãƒªã‚¬ãŒONã«ãªã£ãŸè¦³æ¸¬ç‚¹ã¯ã€æ´¥æ³¢äºˆæƒ³ã«ç”¨ã„ã¾ã›ã‚“ã€‚"
        },
        {
             question: "DONETè¦³æ¸¬ã«ã‚ˆã‚‹æ´¥æ³¢å³æ™‚äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ãŒã€æµ¸æ°´äºˆæ¸¬å›³ï¼ˆæµ¸æ°´åŸŸã€æµ¸æ°´æ·±ï¼‰ã‚’æä¾›ã™ã‚‹éš›ã«ã€æµ·åº•æ°´åœ§ã®è¦³æ¸¬å€¤ã®çµ¶å¯¾å€¤å¹³å‡æ³¢å½¢ã®ã€Œç¬¬ä¸€æ³¢ãƒ”ãƒ¼ã‚¯å€¤ã€ã¯ã€åœ°éœ‡ç™ºç”Ÿå¾ŒãŠãŠã‚ˆãã©ã®ãã‚‰ã„ã®æ™‚é–“ã§è¦³æ¸¬ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿï¼ˆç†Šé‡ç˜ã®ä¾‹ï¼‰",
             options: [
                 "åœ°éœ‡ç™ºç”Ÿå¾Œç´„20ç§’",
                 "åœ°éœ‡ç™ºç”Ÿå¾Œç´„7åˆ†ç¨‹åº¦",
                 "åœ°éœ‡ç™ºç”Ÿå¾Œç´„30åˆ†å¾Œ",
                 "æ´¥æ³¢ãŒæ²¿å²¸ã«åˆ°é”ã—ãŸå¾Œ"
             ],
             correctIndex: 1,
             explanation: "æ´¥æ³¢æµ¸æ°´äºˆæ¸¬å›³ã®æä¾›ã§ã¯ã€DONETè¦³æ¸¬ã«ã‚ˆã‚‹æµ·åº•é™æ°´åœ§ã®çµ¶å¯¾å€¤å¹³å‡æ³¢å½¢ã®ç¬¬ä¸€æ³¢ãƒ”ãƒ¼ã‚¯å€¤ãŒã€Œåœ°éœ‡ç™ºç”Ÿå¾Œ7åˆ†ç¨‹åº¦ã§è¦³æ¸¬ã•ã‚Œã¦ãŠã‚Šã€ã€ãã®å€¤ã‚’å…ƒã«æµ¸æ°´äºˆæ¸¬å›³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"
        }
    ];

    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ç®¡ç†
    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    const TOTAL_QUESTIONS = 5; // 1å›ã®å‡ºé¡Œæ•°

    // é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã™ã‚‹é–¢æ•°ï¼ˆãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼â€“ã‚¤ã‚§ãƒ¼ãƒ„ã®ã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‰
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // ã‚¯ã‚¤ã‚ºé–‹å§‹å‡¦ç†
    function startQuiz() {
        // å…¨å•é¡Œã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«5å•æŠ½å‡º
        const shuffled = shuffleArray([...questionDatabase]); 
        currentQuestions = shuffled.slice(0, TOTAL_QUESTIONS);
        
        currentIndex = 0;
        score = 0;

        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');

        loadQuestion();
    }

    // å•é¡Œèª­ã¿è¾¼ã¿è¡¨ç¤º
    function loadQuestion() {
        const questionData = currentQuestions[currentIndex];
        
        // é€²æ—ãƒãƒ¼æ›´æ–°
        const progress = ((currentIndex) / TOTAL_QUESTIONS) * 100;
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('question-number').textContent = `Question ${currentIndex + 1}/${TOTAL_QUESTIONS}`;

        // å•é¡Œæ–‡ã‚»ãƒƒãƒˆ
        document.getElementById('question-text').textContent = questionData.question;

        // é¸æŠè‚¢ç”Ÿæˆ
        const optionsContainer = document.getElementById('options-container');
        optionsContainer.innerHTML = ''; // ã‚¯ãƒªã‚¢

        questionData.options.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = option;
            btn.onclick = () => selectAnswer(index, btn);
            optionsContainer.appendChild(btn);
        });

        // è§£èª¬ã‚¨ãƒªã‚¢ã‚’éš ã™
        document.getElementById('feedback-area').style.display = 'none';
        
        // æ¬¡ã¸ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆãƒªã‚»ãƒƒãƒˆ
        document.getElementById('next-btn').textContent = "æ¬¡ã®å•é¡Œã¸";
    }

    // å›ç­”é¸æŠæ™‚ã®å‡¦ç†
    function selectAnswer(selectedIndex, selectedBtn) {
        const questionData = currentQuestions[currentIndex];
        const buttons = document.querySelectorAll('.option-btn');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const nextBtn = document.getElementById('next-btn');

        // ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–ï¼ˆé€£æ‰“é˜²æ­¢ï¼‰
        buttons.forEach(btn => btn.disabled = true);

        // æ­£èª¤åˆ¤å®š
        if (selectedIndex === questionData.correctIndex) {
            score++;
            selectedBtn.classList.add('correct');
            feedbackTitle.textContent = "æ­£è§£ï¼";
            feedbackTitle.style.color = "var(--success-color)";
        } else {
            selectedBtn.classList.add('incorrect');
            // æ­£è§£ã®ãƒœã‚¿ãƒ³ã‚‚è¡¨ç¤ºã™ã‚‹
            buttons[questionData.correctIndex].classList.add('correct');
            feedbackTitle.textContent = "ä¸æ­£è§£...";
            feedbackTitle.style.color = "var(--accent-color)";
        }

        // è§£èª¬è¡¨ç¤º
        feedbackText.textContent = questionData.explanation;
        feedbackArea.style.display = 'block';

        // æœ€çµ‚å•é¡Œã®å ´åˆã¯ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰ãˆã‚‹
        if (currentIndex === TOTAL_QUESTIONS - 1) {
            nextBtn.textContent = "çµæœã‚’è¦‹ã‚‹";
        }
    }

    // æ¬¡ã®å•é¡Œã¸ã€ã¾ãŸã¯çµæœç”»é¢ã¸
    function nextQuestion() {
        currentIndex++;
        if (currentIndex < TOTAL_QUESTIONS) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    // çµæœè¡¨ç¤º
    function showResult() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');

        document.getElementById('score').textContent = score;
        
        const messageEl = document.getElementById('result-message');
        const scoreColor = score === TOTAL_QUESTIONS ? "var(--success-color)" : (score >= TOTAL_QUESTIONS * 0.6 ? "var(--secondary-color)" : "var(--accent-color)");
        
        document.querySelector('.score-display').style.color = scoreColor;
        document.querySelector('.score-circle').style.borderColor = scoreColor;

        if (score === TOTAL_QUESTIONS) {
            messageEl.textContent = "ç´ æ™´ã‚‰ã—ã„ï¼å…¨å•æ­£è§£ã§ã™ã€‚";
            messageEl.style.color = "var(--success-color)";
        } else if (score >= TOTAL_QUESTIONS * 0.8) {
            messageEl.textContent = "æƒœã—ã„ï¼ã‚ã¨å°‘ã—ã§æº€ç‚¹ã§ã™ã€‚";
             messageEl.style.color = "var(--secondary-color)";
        } else {
            messageEl.textContent = "è§£èª¬ã‚’å¾©ç¿’ã—ã¦ã€å†æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ã€‚";
             messageEl.style.color = "var(--text-main)";
        }
    }

    // ãƒªã‚¹ã‚¿ãƒ¼ãƒˆå‡¦ç†
    function restartQuiz() {
        startQuiz();
    }

    // TOPç”»é¢ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã¸æˆ»ã‚‹å‡¦ç†
    function goHome() {
        // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆã‚¯ã‚¤ã‚ºä¸­ã®ã¿è¡¨ç¤ºã™ã‚‹ç­‰ã®åˆ†å²ã‚‚å¯èƒ½ã§ã™ãŒã€ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«é·ç§»ã•ã›ã¾ã™ï¼‰
        // ç”»é¢ã®åˆ‡ã‚Šæ›¿ãˆ
        document.getElementById('start-screen').classList.remove('hidden');
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.add('hidden');
        
        // çŠ¶æ…‹ã®ãƒªã‚»ãƒƒãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
        currentIndex = 0;
        score = 0;
        currentQuestions = [];
    }
</script>

</body>
</html>
